CC = g++
BIOCPP_PATH = /home/zimmer/Desktop/BioCpp/src/
CFLAGS = -msse2 -O2 -Wall -std=c++0x -static

INCLUDEID   = -DBIOCPP_INCLUDE_ID
INCLUDEALL  = -DBIOCPP_INCLUDE_ALL
INCLUDEPDB  = -DBIOCPP_INCLUDE_PDB
INCLUDEDPSS = -DBIOCPP_INCLUDE_DPSS
INCLUDESTANDARD       = -DBIOCPP_INCLUDE_STANDARD
INCLUDEMORPHOLOGY     = -DBIOCPP_INCLUDE_MORPHOLOGY
INCLUDERECONSTRUCTION = -DBIOCPP_INCLUDE_RECONSTRUCTION
INCLUDEFASTAALIGN     = -DBIOCPP_INCLUDE_FASTA_ALIGNMENT
INCLUDEFASTAMATRIXALL      = -DBIOCPP_INCLUDE_FASTA_SUBST_MATRIX_ALL
INCLUDEFASTAMATRIXPAM30    = -DBIOCPP_INCLUDE_FASTA_SUBST_MATRIX_PAM30
INCLUDEFASTAMATRIXPAM70    = -DBIOCPP_INCLUDE_FASTA_SUBST_MATRIX_PAM70
INCLUDEFASTAMATRIXBLOSUM45 = -DBIOCPP_INCLUDE_FASTA_SUBST_MATRIX_BLOSUM45
INCLUDEFASTAMATRIXBLOSUM62 = -DBIOCPP_INCLUDE_FASTA_SUBST_MATRIX_BLOSUM62
INCLUDEFASTAMATRIXBLOSUM80 = -DBIOCPP_INCLUDE_FASTA_SUBST_MATRIX_BLOSUM80
INCLUDEFASTAMATRIXZIMM1    = -DBIOCPP_INCLUDE_FASTA_SUBST_MATRIX_ZIMM1

EXECUTABLE = container ids pdb fasta_align iterate dpss zimm_align surface_area contact_map gaussian_network_model anisotropic_network_model mutations alpha_variance

PRECOMPILE = polimers/atom_id.h.gch polimers/element_id.h.gch polimers/moiety_id.h.gch polimers/atom_id.h.gch polimers/amino_acid_id.h.gch polimers/dpss/dpss_id.h.gch fasta/PAM30.h.gch fasta/PAM70.h.gch fasta/BLOSUM45.h.gch fasta/BLOSUM62.h.gch fasta/BLOSUM80.h.gch fasta/ZIMM1.h.gch

all: $(EXECUTABLE)

precompiled: $(addprefix $(BIOCPP_PATH),$(PRECOMPILE))
%.gch:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $*

container:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $@.cpp -o $@
ids:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDEID) $@.cpp -o $@
pdb:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDEPDB) $@.cpp -o $@
fasta_align:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDEFASTAALIGN) $(INCLUDEFASTAMATRIXBLOSUM62) $@.cpp -o $@
iterate:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDEPDB) $@.cpp -o $@
dpss:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDEPDB) $(INCLUDEDPSS) $(INCLUDESTANDARD) $@.cpp -o $@
zimm_align:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDEFASTAALIGN) $(INCLUDEFASTAMATRIXZIMM1) $@.cpp -o $@
surface_area:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDEPDB) $(INCLUDEMORPHOLOGY) $@.cpp -o $@
contact_map:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDESTANDARD) $@.cpp -o $@
gaussian_network_model:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $@.cpp -o $@
anisotropic_network_model:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDESTANDARD) $@.cpp -o $@
mutations:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDESTANDARD) $@.cpp -o $@
alpha_variance:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDESTANDARD) $@.cpp -o $@
test:
	$(CC) -I$(BIOCPP_PATH) $(CFLAGS) $(INCLUDESTANDARD) $@.cpp -o $@

clean:
	rm -f $(EXECUTABLE) $(addprefix $(BIOCPP_PATH),$(PRECOMPILE)) *~
